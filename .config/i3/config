# i3 config file (v4)
# https://i3wm.org/docs/userguide.html#configuring


# AUTOSTART ###################################################################

exec_always --no-startup-id systemctl --user restart polybar-main.service
exec_always --no-startup-id systemctl --user restart polybar-wss.service
exec_always --no-startup-id systemctl --user start redshift-gtk.service
exec_always --no-startup-id systemctl --user start network-manager-applet.service
exec_always --no-startup-id systemctl --user start blueman-applet.service
exec_always --no-startup-id systemctl --user start udiskie.service
exec_always --no-startup-id systemctl --user start indicator-sound-switcher.service





# APPEARANCE ##################################################################

gaps inner 1
gaps outer 0
smart_gaps on

#set $def_border normal 1
set $def_border pixel 1
#set $def_border none
default_border $def_border
default_floating_border $def_border

for_window [class=.*] border $def_border
#adds border to things like GTK calculator and Chromium

font pango:Source Code Pro 8

# class                 border  backgr. text    indicator child_border
# client.focused: A client which currently has the focus
# client.focused_inactive:  A client which is the focused one of its container, but it does not have the focus at the moment.
# client.unfocused: A client which is not the focused one of its container.
# client.urgent: A client which has its urgency hint activated.
# client.placeholder: Background and text color are used to draw placeholder window contents (when restoring layouts).
# client.background: Background color which will be used to paint the background of the client window on top of which the client will be rendered. Only clients which do not cover the whole area of this window expose the color. Note that this colorclass only takes a single color.
# Note that for the window decorations, the color around the child window is the "child_border", and "border" color is only the two thin lines around the titlebar.
# The indicator color is used for indicating where a new window will be opened. For horizontal split containers, the right border will be painted in indicator color, for vertical split containers, the bottom border. This only applies to single windows within a split container, which are otherwise indistinguishable from single windows outside of a split container.

#for highly visible elements like the border around the active window; and that window's titlebar and text etc.
set_from_resource   $accent         i3wm.color9     #ff0000
set_from_resource   $accent_text    i3wm.color0     #212121
set_from_resource   $highvis_fg     i3wm.color15    #f5f5f5
set_from_resource   $midvis_fg      i3wm.color7     #e0e0e0
set_from_resource   $lowvis_fg      i3wm.color14    #9e9e9e
set_from_resource   $background     i3wm.color0     #212121
set_from_resource   $midvis_bo      i3wm.color8     #616161


# class                    border      backgr.     text         indicator   child_border
client.focused             $highvis_fg $background $highvis_fg  $accent     $highvis_fg
client.focused_inactive    $midvis_bo  $background $midvis_fg   $midvis_bo  $midvis_bo
client.unfocused           $background $background $lowvis_fg   $midvis_bo  $background
client.urgent              $accent     $accent     $accent_text $midvis_bo  $accent
client.placeholder         $background $background $lowvis_fg   $midvis_bo  $background
client.background          $background




# BEHAVIOR ####################################################################

default_orientation auto
#default|stacking|tabbed
workspace_layout default
hide_edge_borders smart
focus_follows_mouse yes
mouse_warping none
#popup_during_fullscreen smart
popup_during_fullscreen leave_fullscreen
focus_wrapping yes
workspace_auto_back_and_forth yes





# BUTTON ALIASES ##############################################################

# Alt
set $mod Mod1
# Win
set $mod2 Mod4

set $alt Mod1
set $win Mod4
set $shift Shift
set $ctrl Control

# Mouse
set $mouse-left		button1
set $mouse-right	button3
set $mouse-wheel-click	button2
set $mouse-wheel-up	button4
set $mouse-wheel-down	button5
set $mouse-wheel-left	button8
set $mouse-wheel-right	button9

set $windows-key-code 133



# MOUSE BINDINGS ##############################################################

bindsym $mouse-right floating toggle
bindsym --whole-window $mod+$mouse-right floating toggle

bindsym --whole-window $mod+$mouse-wheel-click kill


# The middle button over a titlebar kills the window
bindsym --release $mouse-wheel-click kill

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

bindsym --whole-window $mod+$mouse-wheel-left	move left
bindsym --whole-window $mod+$mouse-wheel-down	move down
bindsym --whole-window $mod+$mouse-wheel-up	move up
bindsym --whole-window $mod+$mouse-wheel-right	move right

bindsym --whole-window $mod+$shift+$mouse-wheel-left	move container to workspace prev
bindsym --whole-window $mod+$shift+$mouse-wheel-down	move container to workspace next
bindsym --whole-window $mod+$shift+$mouse-wheel-up	move container to workspace prev
bindsym --whole-window $mod+$shift+$mouse-wheel-right	move container to workspace next





# KEYBOARD BINDINGS ###########################################################

set $exit_i3			exec --no-startup-id "i3-nagbar -t warning -m 'Exit i3?' -b 'Yes' 'i3-msg exit'"
bindsym $ctrl+$alt+Delete	$exit_i3
bindsym $mod+$shift+e		$exit_i3

# reload the configuration file
bindsym $mod+$shift+c reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+$shift+r restart


# add something to alt tab
# alt page up and page down


set $xkill exec --no-startup-id xkill
# kill focused window
bindsym $mod+$shift+q kill
bindsym --release $mod+$ctrl+$shift+q $xkill
bindsym $alt+F4 kill

bindsym $mod+x split toggle

# enter fullscreen mode for the focused container
#should also make this focus the window under mouse. if you exit fullscreen and your mouse is above a different window than the one that was just fullscreened, focus won't follow the mouse until you move it off that window.
bindsym $mod+f fullscreen toggle

# change container layout (stacked, tabbed, toggle split)
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

# change focus between tiling / floating windows
bindsym $mod+d focus mode_toggle

# focus the parent container
bindsym $mod+a focus parent

# focus the child container
#bindsym $mod+d focus child


# change focus
bindsym $mod+j focus left
bindsym $mod+k focus down
bindsym $mod+i focus up
bindsym $mod+l focus right

# alternatively, you can use the cursor keys:
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# move focused window
bindsym $mod+$shift+j move left
bindsym $mod+$shift+k move down
bindsym $mod+$shift+i move up
bindsym $mod+$shift+l move right

# alternatively, you can use the cursor keys:
bindsym $mod+$shift+Left move left
bindsym $mod+$shift+Down move down
bindsym $mod+$shift+Up move up
bindsym $mod+$shift+Right move right


# capitalize modes so they look better in polybar. (font sizing etc.)
bindsym $mod+r mode "RESIZE"
mode "RESIZE" {
        set $big 10 px or 10 ppt
        set $small 1 px or 1 ppt
        set $sw resize shrink width
        set $gw resize grow width
        set $sh resize shrink height
        set $gh resize grow height
        set $exit mode "default"

        bindsym j	$sw $big
        bindsym k	$gh $big
        bindsym i	$sh $big
        bindsym l	$gw $big
        bindsym Left	$sw $big
        bindsym Down	$gh $big
        bindsym Up	$sh $big
        bindsym Right	$gw $big

        bindsym a	$sw $small
        bindsym s	$gh $small
        bindsym w	$sh $small
        bindsym d	$gw $small

        bindsym Return	$exit
        bindsym Escape	$exit
        bindsym space	$exit
        bindsym $mod+r	$exit
}


set $ws1 workspace 1
set $ws2 workspace 2
set $ws3 workspace 3
set $ws4 workspace 4
set $ws5 workspace 5
set $ws6 workspace 6
set $ws7 workspace 7
set $ws8 workspace 8
set $ws9 workspace 9
set $ws10 workspace 10

# switch to workspace
bindsym $mod+1 $ws1
bindsym $mod+2 $ws2
bindsym $mod+3 $ws3
bindsym $mod+4 $ws4
bindsym $mod+5 $ws5
bindsym $mod+6 $ws6
bindsym $mod+7 $ws7
bindsym $mod+8 $ws8
bindsym $mod+9 $ws9
bindsym $mod+0 $ws10

# move focused container to workspace
bindsym $mod+$shift+1 move container to $ws1
bindsym $mod+$shift+2 move container to $ws2
bindsym $mod+$shift+3 move container to $ws3
bindsym $mod+$shift+4 move container to $ws4
bindsym $mod+$shift+5 move container to $ws5
bindsym $mod+$shift+6 move container to $ws6
bindsym $mod+$shift+7 move container to $ws7
bindsym $mod+$shift+8 move container to $ws8
bindsym $mod+$shift+9 move container to $ws9
bindsym $mod+$shift+0 move container to $ws10

# move focused container to workspace AND switch to workspace
# don't put a space between the first $wsx and the ";", causes some weird issues
bindsym $mod+$shift+$ctrl+1 move container to $ws1; $ws1
bindsym $mod+$shift+$ctrl+2 move container to $ws2; $ws2
bindsym $mod+$shift+$ctrl+3 move container to $ws3; $ws3
bindsym $mod+$shift+$ctrl+4 move container to $ws4; $ws4
bindsym $mod+$shift+$ctrl+5 move container to $ws5; $ws5
bindsym $mod+$shift+$ctrl+6 move container to $ws6; $ws6
bindsym $mod+$shift+$ctrl+7 move container to $ws7; $ws7
bindsym $mod+$shift+$ctrl+8 move container to $ws8; $ws8
bindsym $mod+$shift+$ctrl+9 move container to $ws9; $ws9
bindsym $mod+$shift+$ctrl+0 move container to $ws10; $ws10





# PROGRAM ALIASES #############################################################

set $launcher			exec rofi -show combi
set $screenshot			exec --no-startup-id scrot -q 100 -m -e 'mv $f ~/pictures/'
set $lock			exec --no-startup-id i3lock -c 000000 -k --timestr="%H:%M" --timecolor=FFFFFFFF --noinputtext="" --wrongtext="" --veriftext="" -e --datecolor=FFFFFFFF --datestr="%D"
set $terminal			exec --no-startup-id terminator
set $files			exec --no-startup-id nemo
set $chrome			exec chromium
set $task-manager		exec gnome-system-monitor
set $volume-unmute		exec --no-startup-id pactl set-sink-mute @DEFAULT_SINK@ false
set $volume-raise		exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +5%
set $volume-lower		exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -5%
set $volume-toggle-mute		exec --no-startup-id pactl set-sink-mute @DEFAULT_SINK@ toggle
set $calculator			exec gnome-calculator
set $music			exec --no-startup-id gpmdp
set $notes			exec --no-startup-id standardnotes-desktop
set $text-editor		exec --no-startup-id atom
set $facebook-messenger		exec --no-startup-id caprine
set $type-clipboard		exec --no-startup-id "sh -c 'sleep 1; xdotool type \\"$(xclip -o -selection clipboard)\\"'"





# LAUNCHING HOTKEYS ###########################################################

bindsym $mod+Return		$terminal
bindsym $mod+space		$launcher
bindsym $mod2+space		$launcher
bindsym $mod2+r			$launcher
bindsym $mod2+s			$notes
bindsym $mod2+a			$text-editor
bindsym $mod2+f			$facebook-messenger
bindsym $mod2+c			$chrome
bindsym $mod2+m			$music
bindsym $mod2+n			$notes
bindsym $mod2+Print		$screenshot
bindsym Print			$screenshot
bindsym $mod2+l			$lock
bindsym $mod+$mod2+v		$type-clipboard
bindsym $mod2+e			$files
bindsym $ctrl+$shift+Escape	$task-manager

bindsym XF86AudioRaiseVolume    $volume-unmute ; $volume-raise
bindsym XF86AudioLowerVolume    $volume-unmute ; $volume-lower
bindsym XF86AudioMute    	$volume-toggle-mute
bindsym XF86Calculator		$calculator

# win key only to open rofi
#bindcode $windows-key-code --release $launcher
